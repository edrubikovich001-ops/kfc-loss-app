<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>KFC Loss Control</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<style>
/* ================= ROOT ================= */
:root{
  --bg-base:#07090f;
  --glass:rgba(255,255,255,.08);
  --glass-border:rgba(255,255,255,.18);
  --cold:#8fb7ff;
}

/* ================= BASE ================= */
html,body{
  margin:0;
  height:100%;
  background:var(--bg-base);
  color:#fff;
  font-family:Inter,system-ui,sans-serif;
  overflow:hidden;
  -webkit-tap-highlight-color:transparent;
}

/* ================= BACKGROUND ================= */
#bg{
  position:fixed;
  inset:0;
  z-index:0;
  background:
    radial-gradient(1200px 800px at 20% 20%, rgba(70,120,255,.20), transparent 60%),
    radial-gradient(900px 700px at 80% 30%, rgba(160,80,255,.18), transparent 60%),
    radial-gradient(800px 800px at 50% 80%, rgba(255,60,100,.14), transparent 65%),
    linear-gradient(180deg,#0b0f1a,#05070c);
}

/* caustics */
#bg::after{
  content:"";
  position:absolute;
  inset:-20%;
  background:
    repeating-radial-gradient(circle at 30% 40%,
      rgba(255,255,255,.08) 0px,
      rgba(255,255,255,.08) 2px,
      transparent 6px,
      transparent 14px
    );
  filter:blur(18px);
  mix-blend-mode:screen;
  opacity:.22;
  animation:caustics 22s linear infinite;
}

@keyframes caustics{
  from{transform:translateX(-10%) translateY(-5%)}
  to{transform:translateX(10%) translateY(5%)}
}

/* ================= WAVY LINES ================= */
#lines{
  position:fixed;
  inset:0;
  z-index:1;
  opacity:.20;
  background:
    repeating-linear-gradient(
      120deg,
      rgba(255,255,255,.25) 0px,
      rgba(255,255,255,.25) 1px,
      transparent 1px,
      transparent 38px
    );
  filter:blur(.4px);
  animation:lines 26s ease-in-out infinite;
}

@keyframes lines{
  0%{background-position:0% 0%}
  50%{background-position:120% 120%}
  100%{background-position:0% 0%}
}

/* ================= HEADER ================= */
header{
  position:sticky;
  top:0;
  z-index:50;
  backdrop-filter:blur(22px) saturate(160%);
  background:
    linear-gradient(180deg,
      rgba(20,28,55,.65),
      rgba(10,14,28,.35)
    );
  border-bottom:1px solid rgba(255,255,255,.18);
}

/* ================= GLASS UI ================= */
.ios-card{
  background:rgba(20,24,40,.75);
  backdrop-filter:blur(18px) saturate(140%);
  border:1px solid var(--glass-border);
  border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,.45);
}

.btn-liquid{
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.25);
  backdrop-filter:blur(14px);
  transition:transform .12s ease, box-shadow .2s ease;
}
.btn-liquid:active{
  transform:scale(.97);
}

/* ================= SCROLL (FIX iOS) ================= */
main{
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  overscroll-behavior:contain;
  touch-action:pan-y;
}
main::-webkit-scrollbar{display:none}

/* ‚ùóÔ∏è iOS FIX: –≤–æ –≤—Ä–µ–º—è —Å–∫—Ä–æ–ª–ª–∞ —É–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ */
body.is-scrolling .ios-card,
body.is-scrolling .btn-liquid{
  transition:none !important;
  transform:none !important;
}

/* ‚ùóÔ∏è scroll-behavior –¢–û–õ–¨–ö–û –¥–ª—è –ü–ö */
@media (hover:hover){
  main{ scroll-behavior:smooth; }
}
</style>
</head>

<body>

<div id="bg"></div>
<div id="lines"></div>

<div class="relative z-10 max-w-[430px] mx-auto h-screen flex flex-col">

<header class="px-6 pt-12 pb-4 flex justify-between items-center">
  <div>
    <h1 class="text-xl font-black tracking-tight">KFC</h1>
    <p class="text-[9px] tracking-[.25em] text-red-400 font-bold">LOSS CONTROL</p>
  </div>
  <button onclick="refreshFromServer()" class="btn-liquid w-10 h-10 rounded-full flex items-center justify-center">
    <i data-lucide="refresh-ccw"></i>
  </button>
</header>

<main id="view-container" class="flex-1 px-6 py-6 pb-40"></main>

<footer id="footer-actions" class="fixed bottom-0 left-0 right-0 max-w-[430px] mx-auto px-6 py-6 bg-black/40 backdrop-blur-xl border-t border-white/10 hidden">
  <button id="primary-btn" class="w-full py-4 rounded-2xl bg-red-600 font-bold text-lg btn-liquid">
    –î–∞–ª–µ–µ
  </button>
</footer>

</div>

<!-- üîí –¢–í–û–ô JS –û–°–¢–ê–Å–¢–°–Ø –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô -->
<script>
/* –≤–µ—Å—å —Ç–≤–æ–π JS —Ç—É—Ç Í∑∏ÎåÄÎ°ú */
</script>

<script>
/* ===== iOS SCROLL STABILITY ===== */
const main = document.getElementById('view-container');
let scrollTimer = null;

main.addEventListener('scroll', () => {
  document.body.classList.add('is-scrolling');
  clearTimeout(scrollTimer);
  scrollTimer = setTimeout(() => {
    document.body.classList.remove('is-scrolling');
  }, 120);
}, { passive:true });

lucide.createIcons();
</script>

</body>
</html>
